---
import "@/styles/global.css";
import Head from "@/components/Head.astro";
import pharaohs from "../data/pharaohs.json";
import Header from "@/components/header.astro";
import Footer from "@/components/footer.astro";

const currentPath = Astro.url.pathname;
export interface Props {
	title?: string;
	meta1?: string;
	meta2?: string;
	volid?: string;
	bild?: string;
}
const sitename = "Egypt";
const { title, meta1, meta2, bild, frontmatter } = Astro.props as Props & { frontmatter?: any };

// Prefer frontmatter values when rendering Markdown pages
const resolvedTitle = frontmatter && frontmatter.pagename ? frontmatter.pagename : title;
const resolvedMeta1 = frontmatter && frontmatter.description ? frontmatter.description : meta1;
const resolvedMeta2 = frontmatter && frontmatter.tags ? (Array.isArray(frontmatter.tags) ? frontmatter.tags.join(", ") : frontmatter.tags) : meta2;
const resolvedBild = frontmatter && frontmatter.image ? frontmatter.image : bild;
---

<html lang="en">
	<Head title={resolvedTitle} meta1={resolvedMeta1} meta2={resolvedMeta2} bild={resolvedBild} frontmatter={frontmatter} />
	<body class="bg-stone-200 dark:bg-neutral-900 text-stone-800 dark:text-neutral-200 transition-colors">
		<Header />
		<div class="max-w-4xl mx-auto px-4">
			<h1 class="pagetitle" set:html={resolvedTitle} />
		</div>
		<div class="max-w-4xl mx-auto min-h-96">
			<div>
				<article class="w-full px-4">
					<slot />
					<div class="py-10 my-5 print:hidden" aria-hidden="true">
						<img
							src="/svg/thoth.svg"
							loading="lazy"
							class="mx-auto h-28 opacity-50 transition duration-300 hover:opacity-100"
							alt="Thoth"
							title="You have reached the end of the page. This is Thoth, the wise God of writing and hieroglyphs."
							srcset=""
						/>
						<p class="text-center uppercase font-sans text-xs pt-3">
							<abbr class="text-stone-400 dark:text-shark-700 no-underline opacity-30" title="Latin for: Nothing comes from nothing"
								>Ex nihilo nihil fit</abbr
							>
						</p>
					</div>
					<div class="hidden print:block print:py-20 text-center">
						<h3>Original text from:</h3><a href="https://pharaoh.se{currentPath}" class="font-mono text-sm text-black"
							><img src="/svg/pharaohse.svg" alt="Pharaoh.SE" class="w-60 mx-auto block" />https://pharaoh.se{currentPath}</a
						>
					</div>
				</article>
			</div>
		</div>
		<Footer />
	</body>
</html>
