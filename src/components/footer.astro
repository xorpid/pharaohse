---
import "@/styles/fancybox.css";
const nu = new Date().getFullYear();
const v = "v. 5.0";
---

<footer class="g2 print:hidden bg-yellow-900 text-amber-50">
	<div class="text-center container mx-auto pb-20 sm:pb-0">
		<div class="flex flex-col gap-x-10 sm:flex-row flex-wrap items-center justify-center min-h-80">
			<a href="/" class=""
				><img
					src="/images/logg.webp"
					class="w-40 h-40 opacity-70 hover:opacity-100 align-middle"
					loading="lazy"
					title="To the start of Pharaoh.SE"
					alt="Pharaoh.SE"
				/></a
			>

			<div class="flex-1 max-w-fit text-sm text-softy pt-10">
				Also at <a href="https://pharaohse.netlify.app">pharaohse.netlify.app</a><br />
				Information provided <i>as is</i>.<br />
				<span>&copy; 2011&ndash;{nu} Peter Lundstr&ouml;m | {v} </span><br /><br /><b>Always</b> verify the sources - AI replies too.<br />De omnibus
				et machina dubitandum.<br />

				<div class="mt-3 text-sm flex w-fit mx-auto">
					<a rel="noopener nofollow" class="text-center" href="https://creativecommons.org/licenses/by/4.0/" target="_blank">
						<img src="/svg/by.svg" class="w-8 opacity-25 hover:opacity-75 mr-2" loading="lazy" alt="BY" /></a
					>
					<a rel="noopener nofollow" class="text-center" href="https://creativecommons.org/licenses/by/4.0/" target="_blank">
						<img src="/svg/cc.svg" class="w-8 opacity-25 hover:opacity-75 mr-2" loading="lazy" alt="CC" /></a
					>
					<img src="/svg/gh.svg" class="w-8 opacity-50 mr-2" loading="lazy" alt="Github" />
					<img src="/svg/netlify.svg" class="w-8 opacity-50" loading="lazy" alt="Netlify" />
				</div>
				<p class="pb-10">
					Creative Commons Attribution 4.0 License <br />
					<a class="text-white" href="/privacy">Privacy policy</a>
				</p>
			</div>
			<div class="flex-0 w-28 my-5 sm:my-0 shadow-lg text-sm self-center">
				PHARAOH.SE<img src="/svg/qr.svg" class="aspect-square" loading="lazy" alt="QR" />
			</div>
		</div>
	</div>
	<script is:inline src="/scripts/fancybox.js"></script>
	<button onclick="topFunction()" id="toppen" title="Go to top" class="print:hidden"
		><svg class="inline print:hidden my-1" width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"
			><path d="M17.6569 16.2427L19.0711 14.8285L12.0001 7.75739L4.92896 14.8285L6.34317 16.2427L12.0001 10.5858L17.6569 16.2427Z" fill="currentColor"
			></path></svg
		> Back to top</button
	>
</footer>

<script is:inline>
	let butt = document.getElementById("toppen");
	let header = document.querySelector("header");

	// Debounce function to limit scroll event frequency
	function debounce(func, wait) {
		let timeout;
		return function executedFunction(...args) {
			const later = () => {
				clearTimeout(timeout);
				func(...args);
			};
			clearTimeout(timeout);
			timeout = setTimeout(later, wait);
		};
	}

	// Scroll event handler
	const handleScroll = debounce(() => {
		if (document.body.scrollTop > 600 || document.documentElement.scrollTop > 600) {
			butt.style.display = "block";
		} else {
			butt.style.display = "none";
		}

		if (window.scrollY > 10) {
			header.classList.add("scrolled");
		} else {
			header.classList.remove("scrolled");
		}
	}, 100); // Adjust delay (100ms) as needed

	window.addEventListener("scroll", handleScroll);

	function topFunction() {
		document.body.scrollTop = 0;
		document.documentElement.scrollTop = 0;
	}
</script>
