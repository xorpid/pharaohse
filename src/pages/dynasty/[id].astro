---
// Define the expected shape of the markdown file's frontmatter
interface Frontmatter {
	title: string;
	period: string;
	description: string;
}

export async function getStaticPaths() {
	const paths = [];
	for (let i = 1; i <= 31; i++) {
		paths.push({ params: { id: `${i}` } });
	}
	return paths;
}

const { id } = Astro.params;
// Load markdown files with explicit typing
const markdownFiles = import.meta.glob<{ frontmatter: Frontmatter }>("/src/dynasty/*.md", { eager: true });
const dynasty = markdownFiles[`/src/dynasty/${id}.md`] || {
	frontmatter: {
		title: `Dynasty ${id}`,
		period: `Period for Dynasty ${id}`,
		description: `Description for Dynasty ${id}`,
	},
};
---

<h1>{dynasty.frontmatter.title}</h1>
<p>{dynasty.frontmatter.period}</p>
<div>{dynasty.frontmatter.description}</div>
